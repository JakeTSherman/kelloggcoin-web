<h1>KelloggCoin Ledger</h1>

<!-- Step 1: List all transaction, starting with the ICO -->
<ol> 
    <%transactions = Transaction.all%>
    <%users = User.all%>
    <li>
    Initial Coin Offering: <%=transactions[0].amount%> KC to <%=transactions[0].to_user.name%>
    </li>
        <%for transaction in transactions%>
            <%if transaction.from_user%>
        <li>
            <%=transaction.amount%>KC from <%=transaction.from_user.name%> to <%=transaction.to_user.name%>
            </li>
    <%end%>
  <%end%>  
</ol>


<!-- Step 2: Calculate and display the balances -->
<ul>
    <%for user in users%>
        <li>
        Balance for <%=user.name%>: <%=Transaction.where({to_user_id: user}).sum(:amount)-Transaction.where({from_user_id: user}).sum(:amount)%>KC
        </li>
<%end%>
</ul>

<!-- 
Expected balances:
Balance for Brian: 1348 KC
Balance for Ben: 2516 KC
Balance for Evan: 1164 KC
Balance for Anthony: 1456 KC
Balance for Krystina: 3516 KC 
-->

<!--  EXTRA FUN STUFF -- Table output example:
<table>
  <tr>
    <th>Name</th>
    <th>Favorite Food</th>
  </tr>
  <tr>
    <td>Brian</td>
    <td>Tacos</td>
  </tr>
   <tr>
    <td>Ben</td>
    <td>Sushi</td>
  </tr>
</table>
-->
<h1>
<table>
    <tr>
        <th>Name</th>
        <th>Balance</th>
    </tr>
    <tr>
       
    </tr>
</table>    
</h1>
